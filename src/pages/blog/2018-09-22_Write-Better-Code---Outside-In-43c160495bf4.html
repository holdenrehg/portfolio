<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Write Better Code — Outside In</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Write Better Code — Outside In</h1>
</header>
<section data-field="subtitle" class="p-summary">
A way to approach writing code.
</section>
<section data-field="description" class="p-summary">
A short explanation on how I approach writing code in most situations.
</section>
<section data-field="body" class="e-content">
<section name="b517" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="66f1" id="66f1" class="graf graf--h3 graf--leading graf--title">Write Better Code — Outside In</h3><p name="7a1a" id="7a1a" class="graf graf--p graf-after--h3">A short explanation on how I approach writing code in most situations.</p><blockquote name="167f" id="167f" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--p">“Software is a great combination between artistry and engineering.” — Bill Gates</blockquote><h3 name="00b9" id="00b9" class="graf graf--h3 graf-after--blockquote"><strong class="markup--strong markup--h3-strong">Top Down and Bottom Up</strong></h3><p name="b668" id="b668" class="graf graf--p graf-after--h3">Phrases like “top-down” or “bottom-up” can mean a lot. Maybe you’re thinking about how projects are divided into milestones before milestones are defined as sets of tasks, how your brain processes information, or defining a hierarchical organization in a company.</p><blockquote name="61f6" id="61f6" class="graf graf--blockquote graf-after--p">I’ve never been able to fully wrap my head around the idea of software being built either up or down.</blockquote><p name="7c48" id="7c48" class="graf graf--p graf-after--blockquote">Some programmers use these terms to describe the processes for designing and building software. Building bottom-up consists of developing building blocks that stack and rearrange to shape out the rest of the system.</p><p name="364b" id="364b" class="graf graf--p graf-after--p">I’ve never been able to fully wrap my head around the idea of software being built either up or down. Maybe you can think about building a program as constructing a building where the foundation is laid, then a frame or structure goes up, etc. But software doesn’t really play by the same rules. Going along with the building analogy, when writing software I might build a bridge between two buildings before those two buildings exist. It’s hard to conceptualize a floating bridge connecting two non-existent buildings. A lot of things can take your program down but gravity is pretty low on the list.</p><h3 name="127a" id="127a" class="graf graf--h3 graf-after--p"><strong class="markup--strong markup--h3-strong">How About Free Floating Components?</strong></h3><p name="5553" id="5553" class="graf graf--p graf-after--h3">I end up thinking about software as these components floating in free space that can handle IO and contain multiple sub-components within them.</p><p name="a730" id="a730" class="graf graf--p graf-after--p">Thinking about it that way, it’s more about designing software “inside out” or “outside in”.</p><figure name="e00e" id="e00e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*kYDRIjBAOCcPvXJVO1g6SA.png" data-width="768" data-height="720" src="https://cdn-images-1.medium.com/max/800/1*kYDRIjBAOCcPvXJVO1g6SA.png"></figure><p name="8c0e" id="8c0e" class="graf graf--p graf-after--figure">After going through school and working in software, I haven’t heard these terms thrown around too much. Inside out seems to be assumed across the board. You hear a lot about writing testable code, reusable functions, single responsibility components, writing tests before the code (TDD/BDD), breaking large problems into small pieces (Algorithmic Thinking), etc.</p><p name="4b7a" id="4b7a" class="graf graf--p graf-after--p">Those are some great ways to approach code especially if you have plenty of time to do all of the planning, pseudocode, and pen and paper system designing that you need to do. But realistically, you just run into situations where you need to be more efficient than that. And ideally not write horrible code in the process that is just going to be refactored later.</p><h3 name="a342" id="a342" class="graf graf--h3 graf-after--p">Defining Outside In</h3><p name="4f04" id="4f04" class="graf graf--p graf-after--h3">Try scrapping the idea of writing units first. No tests first, no functional methods, no inner workings of your program. It’s so easy to focus on the hardest problem first which means you jump right into trying to implement an algorithm or define complicated logic.</p><p name="4e1e" id="4e1e" class="graf graf--p graf-after--p">Instead, we will contradict that idea and do the following:</p><ul class="postList"><li name="ef43" id="ef43" class="graf graf--li graf-after--p">Define the entry point for the code.</li><li name="2edc" id="2edc" class="graf graf--li graf-after--li">Assume that any module, function, helper, library, etc. is available, even if the code does not exist.</li><li name="7de2" id="7de2" class="graf graf--li graf-after--li">Write the ideal version of the entry point.</li><li name="8f8f" id="8f8f" class="graf graf--li graf-after--li">Write the ideal version of any code that was assumed until you start reaching “low level” functions that perform the bulk of the logic.</li><li name="d2a4" id="d2a4" class="graf graf--li graf-after--li">Repeat until you have all functions defined.</li><li name="a352" id="a352" class="graf graf--li graf-after--li">Now actually implement the logic for the “low level” functions.</li></ul><p name="1689" id="1689" class="graf graf--p graf-after--li">Coding is a combination of creativity and common engineering practices. There are thousands of ways to approach a problem and still come up with the same answer. Outside in development is a way to think about software development from a high level so that we can work through problems efficiently on the fly while still producing good, readable, testable code.</p><h3 name="5c9c" id="5c9c" class="graf graf--h3 graf-after--p">An Example</h3><p name="3476" id="3476" class="graf graf--p graf-after--h3">We are going to look at building the start of a forecasting system that takes a set of project management tasks and builds out a schedule for the assigned users.</p><ul class="postList"><li name="acf8" id="acf8" class="graf graf--li graf-after--p">This is on a web application where users will log in to see their tasks and schedule.</li><li name="c6cd" id="c6cd" class="graf graf--li graf-after--li">It will be connected to a persistent database.</li><li name="c069" id="c069" class="graf graf--li graf-after--li">Assume every employee works 8 hours a day M-F</li><li name="8d0f" id="8d0f" class="graf graf--li graf-after--li">Assume every employee takes off federal holidays in the US</li><li name="bfab" id="bfab" class="graf graf--li graf-after--li">Add 2 days of padding for each timeline entry</li><li name="8042" id="8042" class="graf graf--li graf-after--li">Use a task data structure that consists of a name, deadline, assigned user, project reference, and estimate hours.</li></ul><h3 name="ba45" id="ba45" class="graf graf--h3 graf-after--li">The Entry Point</h3><p name="0249" id="0249" class="graf graf--p graf-after--h3">With working on units first we might have started with building out a class and a few functions like this. In this case, we would be jumping into the nitty gritty of the scheduling functions.</p><figure name="4a7e" id="4a7e" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/holdenrehg/538dc5602dcf456f3261308bcd140c7a.js"></script></figure><p name="f787" id="f787" class="graf graf--p graf-after--figure">Instead, let’s try finding our entry point for the system and working outside in. With this being a web application, we know users are going to going to load a certain view to see their schedule. Let’s say they are going to be doing that through some sort of controller:</p><figure name="03be" id="03be" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/holdenrehg/c091a89bcf125244138fc367e506f7d2.js"></script></figure><p name="c5c1" id="c5c1" class="graf graf--p graf-after--figure">In this case, maybe we actually have a framework behind the scenes where we can access <code class="markup--code markup--p-code">Controller</code> and <code class="markup--code markup--p-code">@get</code> or maybe we don’t. Either way, we want to write this in the simplest, most ideal scenario possible even if the code doesn’t exist. We’ll deal with the details later.</p><p name="af17" id="af17" class="graf graf--p graf-after--p">Now we move on to writing the ideal version of <code class="markup--code markup--p-code">show_schedule</code> .</p><figure name="4968" id="4968" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/holdenrehg/4e4d86ebcca9b48bb7a1e8d4f57e9ffa.js"></script></figure><p name="d47a" id="d47a" class="graf graf--p graf-after--figure">We are making even more assumptions here:</p><ul class="postList"><li name="a1ad" id="a1ad" class="graf graf--li graf-after--p">Assume that we have <code class="markup--code markup--li-code">http</code> and <code class="markup--code markup--li-code">auth</code> available.</li><li name="bebf" id="bebf" class="graf graf--li graf-after--li">Assume that <code class="markup--code markup--li-code">http.auth</code> is an annotation available.</li><li name="b1b3" id="b1b3" class="graf graf--li graf-after--li">Assume that <code class="markup--code markup--li-code">http.response</code> is a function available.</li><li name="5f5e" id="5f5e" class="graf graf--li graf-after--li">Assume that <code class="markup--code markup--li-code">auth.current_user</code> is a function available.</li><li name="1151" id="1151" class="graf graf--li graf-after--li">Assume that the <code class="markup--code markup--li-code">response</code> function handles view based on a string and accepts a dictionary of data.</li><li name="e386" id="e386" class="graf graf--li graf-after--li">Assume that the user getting returned from <code class="markup--code markup--li-code">current_user</code> has a property called <code class="markup--code markup--li-code">tasks</code> available.</li></ul><p name="4e8c" id="4e8c" class="graf graf--p graf-after--li">These are all details that we could have dove into immediately or even start coding within our <code class="markup--code markup--p-code">show_schedule</code> function just to get them off of our mind. But if you can make the assumptions and not worry about the details until later then you’re not prohibited and can just focus on writing the elegant solution.</p><h3 name="4eb6" id="4eb6" class="graf graf--h3 graf-after--p">Digging Deeper</h3><p name="4dcf" id="4dcf" class="graf graf--p graf-after--h3">Once the entry point is coded out then you just start funneling deeper into the program (i.e. outside in). Let’s start accounting for functions we know do not exist.</p><figure name="c908" id="c908" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/holdenrehg/0d211ec2ae069bb154954e30b799927d.js"></script></figure><figure name="a41e" id="a41e" class="graf graf--figure graf--iframe graf-after--figure"><script src="https://gist.github.com/holdenrehg/faed494465c1d37752976e9b749ebe7d.js"></script></figure><p name="d91e" id="d91e" class="graf graf--p graf-after--figure">You can see how we just keep recursing down further into the program.</p><ol class="postList"><li name="a34b" id="a34b" class="graf graf--li graf-after--p">Create the <code class="markup--code markup--li-code">app/http.py</code> module and make sure we have the functions that we need available for <code class="markup--code markup--li-code">show_schedule</code>.</li><li name="471a" id="471a" class="graf graf--li graf-after--li">Write them in an ideal way.</li><li name="d7df" id="d7df" class="graf graf--li graf-after--li">Since we need a way to render views, create our <code class="markup--code markup--li-code">app/views.py</code> and add the <code class="markup--code markup--li-code">render</code> function. This is the point where we are getting pretty low level and the bulk of the view rendering logic would probably live. That’s up to you to decide as the programmer of course.</li></ol><p name="fa7c" id="fa7c" class="graf graf--p graf-after--li">We could do it again with the <code class="markup--code markup--p-code">auth.py</code> helper:</p><figure name="ac76" id="ac76" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/holdenrehg/53ca14ac3c685294283e18f250d8c7a7.js"></script></figure><figure name="96f3" id="96f3" class="graf graf--figure graf--iframe graf-after--figure"><script src="https://gist.github.com/holdenrehg/1de284b3741b06ee107575c59f3e99f1.js"></script></figure><ol class="postList"><li name="a8ce" id="a8ce" class="graf graf--li graf-after--figure">Create the <code class="markup--code markup--li-code">app/auth.py</code> module and make sure we have the functions that we need available for <code class="markup--code markup--li-code">show_schedule</code>.</li><li name="e98e" id="e98e" class="graf graf--li graf-after--li">Write them in an ideal way.</li><li name="3ac1" id="3ac1" class="graf graf--li graf-after--li">Since we need a way to render views, create our <code class="markup--code markup--li-code">app/session.py</code> and add the <code class="markup--code markup--li-code">active</code> function. This is another point where a lot of our “low level” logic could live. Similar to the <code class="markup--code markup--li-code">views.py</code> we created.</li></ol><h3 name="9e89" id="9e89" class="graf graf--h3 graf-after--li">Conclusion</h3><p name="b360" id="b360" class="graf graf--p graf-after--h3">I’m not going to write out the entire program here since it could get pretty lengthy if we assume there is no framework but hopefully, that gives you an idea on how to approach code outside in.</p><p name="f9cd" id="f9cd" class="graf graf--p graf-after--p graf--trailing">It’s a different way to think about things and not perfect for every scenario, but a great tool to add to your skill set.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@reedrehg" class="p-author h-card">Holden Rehg</a> on <a href="https://medium.com/p/43c160495bf4"><time class="dt-published" datetime="2018-09-22T15:32:19.040Z">September 22, 2018</time></a>.</p><p><a href="https://medium.com/@reedrehg/-43c160495bf4" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 31, 2020.</p></footer></article></body></html>